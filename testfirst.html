<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI with TTS and LLM Interaction</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #6dd5ed;
            font-weight: 600;
        }
        
        .input-section {
            margin-bottom: 25px;
        }
        
        textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.2);
            color: #fff;
            font-size: 16px;
            resize: vertical;
        }
        
        textarea:focus {
            outline: none;
            border-color: #6dd5ed;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        select, button {
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        select {
            flex-grow: 1;
            background: rgba(0, 0, 0, 0.3);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        button {
            background: linear-gradient(to right, #2193b0, #6dd5ed);
            color: #0f2027;
            font-weight: 600;
            min-width: 150px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled {
            background: #7f8c8d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .response-section {
            margin-top: 30px;
        }
        
        .response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .response-content {
            min-height: 150px;
            padding: 20px;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow-y: auto;
            max-height: 300px;
        }
        
        .status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            font-size: 14px;
            color: #6dd5ed;
        }
        
        .pulse {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #6dd5ed;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(109, 213, 237, 0.7);
            }
            
            70% {
                transform: scale(1);
                box-shadow: 0 0 0 10px rgba(109, 213, 237, 0);
            }
            
            100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(109, 213, 237, 0);
            }
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 600px) {
            .controls {
                flex-direction: column;
            }
            
            select, button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>AI with TTS and LLM Interaction</h1>
        
        <div class="input-section">
            <textarea id="input-text" placeholder="Enter your text here..."></textarea>
            <div class="controls">
                <select id="voice-select">
                    <option value="">Select a voice...</option>
                </select>
                <button id="generate-btn">Generate Response</button>
                <button id="speak-btn" disabled>Speak Response</button>
            </div>
        </div>
        
        <div class="response-section">
            <div class="response-header">
                <h2>AI Response</h2>
            </div>
            <div id="response-content" class="response-content">
                <p style="color: #aaa; text-align: center; padding: 40px 0;">
                    Your AI response will appear here...
                </p>
            </div>
            <div id="status" class="status hidden">
                <div class="pulse"></div>
                <span id="status-text">Processing your request...</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const inputText = document.getElementById('input-text');
            const voiceSelect = document.getElementById('voice-select');
            const generateBtn = document.getElementById('generate-btn');
            const speakBtn = document.getElementById('speak-btn');
            const responseContent = document.getElementById('response-content');
            const status = document.getElementById('status');
            const statusText = document.getElementById('status-text');
            
            let aiResponse = '';
            let voices = [];
            let synthesis = window.speechSynthesis;
            
            // Initialize voices
            function loadVoices() {
                voices = synthesis.getVoices();
                voiceSelect.innerHTML = '<option value="">Select a voice...</option>';
                
                voices.forEach(voice => {
                    const option = document.createElement('option');
                    option.value = voice.name;
                    option.textContent = `${voice.name} (${voice.lang})`;
                    voiceSelect.appendChild(option);
                });
            }
            
            // Load voices when they are ready
            if (synthesis.onvoiceschanged !== undefined) {
                synthesis.onvoiceschanged = loadVoices;
            }
            
            // Initial load
            loadVoices();
            
            // Simulate LLM response (in a real application, this would be an API call)
            function getLLMResponse(prompt) {
                return new Promise(resolve => {
                    setTimeout(() => {
                        // Simulated responses based on input
                        const responses = [
                            "Hello! I'm an AI assistant. How can I help you today?",
                            "That's an interesting question. Based on my knowledge, I can tell you that AI is transforming many industries.",
                            "I understand what you're asking. From my perspective, the future of AI looks very promising.",
                            "Thanks for your input. I'm constantly learning from interactions like this one.",
                            "I've processed your request and here's what I think: AI and human collaboration will shape the future of technology."
                        ];
                        
                        // Simple "intent" detection
                        if (prompt.toLowerCase().includes('hello') || prompt.toLowerCase().includes('hi')) {
                            resolve(responses[0]);
                        } else if (prompt.toLowerCase().includes('question')) {
                            resolve(responses[1]);
                        } else if (prompt.toLowerCase().includes('future')) {
                            resolve(responses[2]);
                        } else if (prompt.toLowerCase().includes('learn')) {
                            resolve(responses[3]);
                        } else {
                            // Default response based on prompt length
                            const index = Math.min(prompt.length % 5, 4);
                            resolve(responses[index]);
                        }
                    }, 2000); // Simulate network delay
                });
            }
            
            // Generate AI response
            generateBtn.addEventListener('click', async function() {
                const text = inputText.value.trim();
                
                if (!text) {
                    alert('Please enter some text first');
                    return;
                }
                
                // Show status
                status.classList.remove('hidden');
                statusText.textContent = 'Processing your request...';
                generateBtn.disabled = true;
                
                try {
                    // Get response from LLM
                    aiResponse = await getLLMResponse(text);
                    
                    // Display response
                    responseContent.innerHTML = `<p>${aiResponse}</p>`;
                    
                    // Enable speak button
                    speakBtn.disabled = false;
                    
                    // Update status
                    statusText.textContent = 'Response generated successfully';
                    setTimeout(() => {
                        status.classList.add('hidden');
                    }, 2000);
                } catch (error) {
                    responseContent.innerHTML = `<p style="color: #ff6b6b;">Error: ${error.message}</p>`;
                    statusText.textContent = 'An error occurred';
                } finally {
                    generateBtn.disabled = false;
                }
            });
            
            // Speak the response
            speakBtn.addEventListener('click', function() {
                if (!aiResponse) {
                    alert('Please generate a response first');
                    return;
                }
                
                const selectedVoice = voiceSelect.value;
                let utterance;
                
                if (selectedVoice) {
                    const voice = voices.find(v => v.name === selectedVoice);
                    utterance = new SpeechSynthesisUtterance(aiResponse);
                    utterance.voice = voice;
                } else {
                    utterance = new SpeechSynthesisUtterance(aiResponse);
                }
                
                synthesis.speak(utterance);
                
                // Update status while speaking
                status.classList.remove('hidden');
                statusText.textContent = 'Speaking...';
                
                utterance.onend = function() {
                    statusText.textContent = 'Speech completed';
                    setTimeout(() => {
                        status.classList.add('hidden');
                    }, 2000);
                };
            });
        });
    </script>
</body>
</html>